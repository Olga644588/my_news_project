{% extends "base.html" %}
{% load static %}


{% block title %}{{ article.title }} — Новости{% endblock %}


{% block content %}
<div class="row mt-4">
  <div class="col-lg-12">
    <article>
      <header class="mb-4">
        <h1 class="fw-bold">{{ article.title }}</h1>
        <p class="text-muted">
          <time datetime="{{ article.published_at }}">
            {{ article.published_at|date:"j E Y, H:i" }}
          </time>
        </p>
      </header>

      {% if article.image %}
        <figure class="mb-4">
          <img
            src="{{ article.image.url }}"
            alt="{{ article.title }}"
            class="img-fluid rounded"
          />
        </figure>
      {% endif %}

      <div class="article-content fs-5">
        {{ article.text|linebreaks }}
      </div>

      <footer class="mt-4">
        <div class="d-flex flex-wrap gap-2">
          {% for scope in article.scopes.all %}
            <span class="badge {% if scope.is_main %}bg-primary{% else %}bg-secondary{% endif %} fs-6">
              {{ scope.tag.name }}
            </span>
          {% endfor %}
        </div>
      </footer>
    </article>

    <div class="mt-5">
      <a href="{% url 'news_list' %}" class="btn btn-outline-secondary">
        ← Вернуться к списку новостей
      </a>
    </div>
  </div>
</div>
{% endblock %}
